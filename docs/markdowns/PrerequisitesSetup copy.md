### Setup IBM Cloud Account

IBM Cloud account is required. An Enterprise account is recommended but Pay as you Go account suffices to deploy secure landing zone cloud resources. 

If you do not already have an account, follow instructions [to create the account](https://cloud.ibm.com/docs/account?topic=account-account-getting-started#account-gs-createlite) and [upgrade to Pay-as-you-Go](https://cloud.ibm.com/docs/account?topic=account-account-getting-started#account-gs-upgrade)

- Have access to an [IBM Cloud account](https://cloud.ibm.com/docs/account?topic=account-account-getting-started). An Enterprise account is recommended but a Pay as you Go account should also work with this automation.
- Install the [IBM Cloud CLI](https://cloud.ibm.com/docs/cli?topic=cli-getting-started) and associated tooling.

### Setup IBM Cloud Account for Secure Landing Zone

1. Log into IBM Cloud [console](https://cloud.ibm.com) using the IBMid you used to setup the account. This IBMid user is the account __owner__ and has all the IAM accesses.

2. [Complete the company profile and contacts information](https://cloud.ibm.com/docs/account?topic=account-contact-info) for the account. This is required to stay in compliance with IBM Cloud Financial Service profile.

3. [Enable the flag](https://cloud.ibm.com/docs/account?topic=account-enabling-fs-validated) to designate your IBM Cloud account to be Financial Services Validated.

4. Enable VRF and Service Endpoints. This requires creating a support case. Follow [instructions](https://cloud.ibm.com/docs/account?topic=account-vrf-service-endpoint#vrf) carefully.

### Setup Account Access (Cloud IAM)

1. [Create an IBM Cloud API Key](https://cloud.ibm.com/docs/account?topic=account-userapikey#create_user_key). User owning this key should be part of __admins__ group.

2. [Setup MFA for all IBM Cloud IAM users](https://cloud.ibm.com/docs/account?topic=account-account-getting-started#account-gs-mfa).

3. [Setup Cloud IAM Access Groups](https://cloud.ibm.com/docs/account?topic=account-account-getting-started#account-gs-accessgroups). User access to cloud resources will be controlled using the Access Policies assigned to Access Groups. IBM Cloud Financial Services profile requires that all IAM users do not get assigned any accesses directly to any cloud resources. When assigning Access policies, Click "All Identity Access Enabled Services" from drop down menu.

### Create IAM Access and Resource Groups for SLZ resources

1. [Create an IBM Cloud Resource group](https://cloud.ibm.com/docs/account?topic=account-rgs) for the installation
    - It can be a single group or (recommended) two groups as follows:
      - Management Resource Group
      - Workload Resource Group

2. [Add Resource Group access to SLZ Access Groups](https://cloud.ibm.com/docs/account?topic=account-groups) above.
   - It is recommended to have at least two access groups - one giving manager permissions to resources and one giving only viewer permissions.

### Setup Activity Tracking to log IBM Cloud audit events

**IMPORTANT: MUST BE DONE ASAP AS THIS PREREQUISITE STEP CAN TAKE DAYS.**

FS Cloud patterns require Activity Tracking with COS for IBM Cloud Services audit events. [See More Instructions to setup audit logging for IBM Cloud events here](https://test.cloud.ibm.com/docs/allowlist/framework-financial-services?topic=framework-financial-services-vpc-architecture-logging-audit).

Use Activity Tracking to collect auditing events that are generated by services in your IBM Cloud account. IBM Cloud Object Storage bucket will be set up to collect the event data.

### GitHub setup guide

A [GitHub setup guide](https://github.com/maire-kehoe/whitewater-ref-toolchain) detailing how to authorize the Toolchains to access your teams GitHub Enterprise repos before starting the depolyment with toolchain.

### GitHub Enterprise and Personal Access Token
Instructions to authenticate Git Repo over HTTPS with a Personal Access Token (PAT) can be found [here](../markdowns/ghe_setup.md)

### Setup CLI tools
Following CLI tools should be installed on your local machine for devtest and any validation work.
Detailed instructions are available [here](https://cloud.ibm.com/docs/cli?topic=cli-getting-started)

### 1. Install IBM Cloud CLI
Linux and MacOS
```bash
curl -sL https://raw.githubusercontent.com/IBM-Cloud/ibm-cloud-developer-tools/master/linux-installer/idt-installer | bash
```

Windows 10 Pro
```bash
[Net.ServicePointManager]::SecurityProtocol = "Tls12, Tls11, Tls, Ssl3"; iex(New-Object Net.WebClient).DownloadString('https://raw.githubusercontent.com/IBM-Cloud/ibm-cloud-developer-tools/master/windows-installer/idt-win-installer.ps1')
```

**Verify Installation**
```bash
ibmcloud version
```

### 2. Install Terraform v0.13.5
MacOS
```bash
sudo mkdir -p /usr/local/terraform/v0135
cd /usr/local/terraform/v0135 && sudo curl https://releases.hashicorp.com/terraform/0.13.5/terraform_0.13.5_darwin_amd64.zip --output tf12.zip
sudo unzip tf12.zip
sudo mv terraform /usr/local/bin/terraform0135
ln -s /usr/local/bin/terraform0135 /usr/local/bin/terraform
```

Linux
```bash
sudo mkdir -p /usr/local/terraform/v0135
cd /usr/local/terraform/v0135 && sudo curl https://releases.hashicorp.com/terraform/0.13.5/terraform_0.13.5_linux_amd64.zip --output tf12.zip
sudo unzip tf12.zip
sudo mv terraform /usr/local/bin/terraform0135
ln -s /usr/local/bin/terraform0135 /usr/local/bin/terraform
```

Windows
Download the CLI binary from https://releases.hashicorp.com/terraform/0.13.5/terraform_0.13.5_windows_amd64.zip and install on your Windows machine.

**Verify Installation**
```bash
terraform --version
```

### 3. Install jq
MacOS
```bash
brew install jq
```

Linux and Windows  
Find the jq binary matching your Linux/Windows OS and install with the respective install tool. Download [link here](https://stedolan.github.io/jq/download/).

**Verify Installation**
```bash
jq version
```

Additional informational on terraform install can be found [here](../markdowns/terraform_install.md)